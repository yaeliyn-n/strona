<!DOCTYPE html>
<html lang="pl" class="scroll-smooth dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Poznaj dogłębnie postacie z uniwersum Kronik Elary: Arcadiusa, Elarę, Kaelena, Lyrę i Runę. Odkryj ich historie, osobowości i anegdoty.">
    <meta name="keywords" content="kroniki elary, lore, postacie, Arcadius, Elara, Kaelen, Lyra, Runa, fabuła, serwer discord, anime, manga">
    <meta name="author" content="Arcadius & Strażnicy Kronik Elary">
    <title>Kroniki Elary - Lore i Profile Postaci</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0F172A; 
            --bg-secondary: rgba(30, 41, 59, 0.8); 
            --bg-card: #1E293B; 
            --bg-header: rgba(15, 23, 42, 0.92); 
            
            --text-primary: #E2E8F0; 
            --text-secondary: #94A3B8; 
            --text-accent: #A78BFA; /* Główny akcent - Arcadius */
            --text-accent-hover: #8B5CF6; 
            
            --border-accent: #8B5CF6; 
            --border-card: rgba(167, 139, 250, 0.25); 
            
            --btn-primary-bg: #8B5CF6; 
            --btn-primary-hover-bg: #7C3AED; 
            --btn-discord-bg: #5865F2;
            --btn-discord-hover-bg: #4752C4;
            
            --scrollbar-thumb-bg: #8B5CF6;
            --scrollbar-thumb-hover-bg: #7C3AED;
            
            --svg-icon-fill: #E2E8F0;
            --shadow-color: rgba(167, 139, 250, 0.25); 
            --shadow-strong-color: rgba(167, 139, 250, 0.4);
            --modal-backdrop: rgba(15, 23, 42, 0.85);

            /* Kolory dla poszczególnych postaci */
            --rgb-accent: 167, 139, 250; /* Arcadius */
            --rgb-purple-400: 167, 139, 250; /* Elara - taki sam jak Arcadius, ale może być inny */
            --rgb-stone-400: 168, 162, 158; /* Kaelen */
            --rgb-amber-400: 251, 191, 36; /* Lyra */
            --rgb-cyan-400: 34, 211, 238; /* Runa */

            --text-purple-400: #A78BFA; /* Elara */
            --text-stone-400: #A8A29E; /* Kaelen */
            --text-amber-400: #FBBF24; /* Lyra */
            --text-cyan-400: #22D3EE; /* Runa */
        }

        html.light { 
            --bg-primary: #F9FAFB;
            --bg-secondary: rgba(243, 244, 246, 0.9);
            --bg-card: #FFFFFF;
            --bg-header: rgba(255, 255, 255, 0.95);
            --text-primary: #1F2937;
            --text-secondary: #4B5563;
            --text-accent: #7C3AED;
            --text-accent-hover: #6D28D9;
            --border-accent: #7C3AED;
            --border-card: rgba(124, 58, 237, 0.1);
            --btn-primary-bg: #7C3AED;
            --btn-primary-hover-bg: #6D28D9;
            --btn-discord-bg: #5865F2;
            --btn-discord-hover-bg: #4752C4;
            --scrollbar-thumb-bg: #A78BFA;
            --scrollbar-thumb-hover-bg: #8B5CF6;
            --svg-icon-fill: #374151;
            --shadow-color: rgba(124, 58, 237, 0.08);
            --shadow-strong-color: rgba(124, 58, 237, 0.15);
            --modal-backdrop: rgba(249, 250, 251, 0.85);

            --rgb-accent: 124, 58, 237;
            --rgb-purple-400: 124, 58, 237;
            --rgb-stone-400: 120, 113, 108;
            --rgb-amber-400: 217, 119, 6;
            --rgb-cyan-400: 8, 145, 178;
            --text-purple-400: #7C3AED;
            --text-stone-400: #78716C;
            --text-amber-400: #D97706;
            --text-cyan-400: #0891B2;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            transition: background-color 0.3s ease, color 0.3s ease;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            line-height: 1.75; 
        }

        h1, h2, h3, h4, h5 {
            font-family: 'Lora', serif;
            font-weight: 600;
            line-height: 1.35; 
        }
        h1 { letter-spacing: -0.025em; font-weight: 700; }
        h2 { letter-spacing: -0.02em; font-weight: 700; }
        h3 { font-weight: 600; }
        
        .hero-lore-postaci-bg {
            background: linear-gradient(rgba(15, 23, 42, 0.92), rgba(15, 23, 42, 1)), url('https://placehold.co/1920x800/0a0f1e/a78bfa?text=Panteon+Postaci+Kronik') center/cover no-repeat fixed;
        }
        .card-bg, .character-card {
            background-color: var(--bg-card);
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275), box-shadow 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275), background-color 0.3s ease; 
            border: 1px solid var(--border-card); 
            box-shadow: 0 7px 18px -4px var(--shadow-color); 
            overflow: hidden;
        }
        .card-bg:hover, .character-card:hover {
            transform: translateY(-10px) scale(1.035); 
            box-shadow: 0 16px 32px -6px var(--shadow-strong-color); 
        }
        
        .btn-primary, .btn-discord, .btn-secondary {
            color: #FFFFFF; 
            transition: background-color 0.25s ease, transform 0.25s ease, box-shadow 0.25s ease;
            box-shadow: 0 5px 12px -3px var(--shadow-color);
            font-weight: 600; 
            letter-spacing: 0.03em;
            padding-top: 0.85rem; 
            padding-bottom: 0.85rem;
            border-radius: 0.5rem;
        }
        .btn-primary { background-color: var(--btn-primary-bg); }
        .btn-primary:hover {
            background-color: var(--btn-primary-hover-bg);
            transform: scale(1.06) translateY(-3px); 
            box-shadow: 0 14px 24px -5px var(--shadow-strong-color);
        }
        .btn-discord { background-color: var(--btn-discord-bg); }
        .btn-discord:hover {
            background-color: var(--btn-discord-hover-bg);
            transform: scale(1.06) translateY(-3px);
            box-shadow: 0 10px 20px -5px rgba(88, 101, 242, 0.4);
        }
        .btn-secondary {
            background-color: transparent;
            border: 2px solid var(--border-accent);
            color: var(--text-accent);
            padding: calc(0.85rem - 2px) calc(1.5rem - 2px);
        }
        .btn-secondary:hover {
            background-color: var(--border-accent);
            color: white;
            transform: scale(1.05) translateY(-1px);
            box-shadow: 0 8px 15px -3px var(--shadow-color);
        }
        .text-accent {
            color: var(--text-accent);
        }
        
        .reveal {
            opacity: 0;
            transform: translateY(70px); 
            transition: opacity 1s cubic-bezier(0.645, 0.045, 0.355, 1), transform 1s cubic-bezier(0.645, 0.045, 0.355, 1);
        }
        .reveal.visible {
            opacity: 1;
            transform: translateY(0);
        }
        ::-webkit-scrollbar { width: 13px; } 
        ::-webkit-scrollbar-track { background: var(--bg-primary); }
        ::-webkit-scrollbar-thumb { background: var(--scrollbar-thumb-bg); border-radius: 7px; border: 3.5px solid var(--bg-primary); }
        ::-webkit-scrollbar-thumb:hover { background: var(--scrollbar-thumb-hover-bg); }
        
        header#navbar {
            background-color: var(--bg-header);
            backdrop-filter: blur(18px); 
            transition: background-color 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 5px 15px -4px rgba(15,23,42,0.2); 
        }

        .nav-link {
            position: relative;
            color: var(--text-secondary);
            transition: color 0.2s ease, background-color 0.2s ease, transform 0.2s ease; 
            padding: 0.65rem 1.1rem; 
            border-radius: 0.6rem; 
            font-weight: 500;
        }
        .nav-link:hover {
            transform: translateY(-1px); 
        }
        .nav-link::after { 
            content: '';
            position: absolute;
            width: 0;
            height: 3px; 
            bottom: 5px; 
            left: 50%;
            transform: translateX(-50%);
            background-color: var(--text-accent);
            transition: width 0.35s cubic-bezier(0.25, 0.8, 0.25, 1);
            border-radius: 1.5px;
        }
        .nav-link:hover, .nav-link.active {
            color: var(--text-accent);
            background-color: rgba(var(--rgb-accent), 0.12); 
        }
        .nav-link:hover::after, .nav-link.active::after {
            width: 60%; 
        }
        
        #mobileMenu {
            transition: transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1), opacity 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
            transform: translateY(-100%);
            opacity: 0;
            pointer-events: none; 
        }
        #mobileMenu.open {
            transform: translateY(0);
            opacity: 1;
            pointer-events: auto;
        }
        html.dark .text-shadow-custom { 
             text-shadow: 1px 1px 4px rgba(0,0,0,0.6); 
        }
        .user-avatar {
            width: 32px; 
            height: 32px; 
            border-radius: 50%;
            border: 2px solid var(--border-accent);
            cursor: pointer;
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        .user-avatar:hover {
            transform: scale(1.1);
            box-shadow: 0 0 10px var(--shadow-strong-color);
        }
        .dropdown-menu {
            position: absolute;
            top: calc(100% + 0.5rem); 
            right: 0;
            background-color: var(--bg-card);
            border: 1px solid var(--border-card);
            border-radius: 0.5rem; 
            box-shadow: 0 10px 25px -5px var(--shadow-strong-color), 0 8px 10px -6px var(--shadow-color);
            z-index: 50;
            min-width: 200px; 
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: opacity 0.2s ease, transform 0.2s ease, visibility 0s linear 0.2s;
        }
        .dropdown-menu.open {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
            transition: opacity 0.2s ease, transform 0.2s ease;
        }
        .dropdown-menu a, .dropdown-menu button {
            display: block;
            width: 100%;
            text-align: left;
            padding: 0.75rem 1rem; 
            font-size: 0.875rem; 
            color: var(--text-secondary);
            transition: background-color 0.15s ease, color 0.15s ease;
        }
        .dropdown-menu a:hover, .dropdown-menu button:hover {
            background-color: rgba(var(--rgb-accent), 0.1);
            color: var(--text-accent);
        }
        .dropdown-menu form { margin: 0; } 
        
        .character-avatar {
            width: 120px; 
            height: 120px; 
            border-radius: 50%;
            margin-bottom: 1rem; 
            border: 4px solid var(--border-accent); /* Domyślny kolor dla Arcadiusa */
            box-shadow: 0 0 15px var(--shadow-color);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .character-card:hover .character-avatar {
            transform: scale(1.1);
            box-shadow: 0 0 25px var(--shadow-strong-color);
        }
        /* Kolory specyficzne dla postaci */
        #profile-arcadius .character-title { color: var(--text-accent); }
        #profile-arcadius .character-quote { border-left-color: var(--text-accent); background-color: rgba(var(--rgb-accent), 0.05); }
        #profile-arcadius .character-avatar { border-color: var(--text-accent); }

        #profile-elara .character-title { color: var(--text-purple-400); }
        #profile-elara .character-quote { border-left-color: var(--text-purple-400); background-color: rgba(var(--rgb-purple-400), 0.05); }
        #profile-elara .character-avatar { border-color: var(--text-purple-400); }
        
        #profile-kaelen .character-title { color: var(--text-stone-400); }
        #profile-kaelen .character-quote { border-left-color: var(--text-stone-400); background-color: rgba(var(--rgb-stone-400), 0.05); }
        #profile-kaelen .character-avatar { border-color: var(--text-stone-400); }

        #profile-lyra .character-title { color: var(--text-amber-400); }
        #profile-lyra .character-quote { border-left-color: var(--text-amber-400); background-color: rgba(var(--rgb-amber-400), 0.05); }
        #profile-lyra .character-avatar { border-color: var(--text-amber-400); }

        #profile-runa .character-title { color: var(--text-cyan-400); }
        #profile-runa .character-quote { border-left-color: var(--text-cyan-400); background-color: rgba(var(--rgb-cyan-400), 0.05); }
        #profile-runa .character-avatar { border-color: var(--text-cyan-400); }
        
        .animated-gradient-text {
            background: linear-gradient(45deg, var(--text-accent), var(--text-accent-hover), #c084fc, var(--text-accent));
            background-size: 200% 200%;
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradient-flow 8s ease infinite;
        }
        @keyframes gradient-flow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

    </style>
</head>
<body class="antialiased">

    <header id="navbar" class="fixed top-0 left-0 right-0 z-50 py-3">
        <div class="container mx-auto px-4 sm:px-6 flex justify-between items-center">
            <a href="index.html" class="text-3xl font-bold" aria-label="Strona główna Kronik Elary">
                <span class="text-accent">Kroniki</span> <span class="text-primary">Elary</span>
            </a>
            <nav class="hidden md:flex items-center space-x-1 lg:space-x-2">
                <a href="index.html" class="nav-link">Strona Główna</a>
                <a href="prezentacja.html" class="nav-link">Prezentacja Serwera</a>
                <a href="wikipedia.html" class="nav-link active">Wikipedia Kronik</a> 
                <a href="ranking-stats.html" class="nav-link">Rankingi</a>
                <div id="auth-section-nav" class="ml-4 relative">
                    </div>
            </nav>
            <div class="md:hidden flex items-center">
                 <div id="auth-section-mobile-nav" class="mr-2 relative">
                    </div>
                <button id="mobileMenuButton" class="p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[var(--bg-header)] focus:ring-[var(--text-accent)]" aria-expanded="false" aria-controls="mobileMenu" aria-label="Otwórz menu nawigacyjne">
                    <svg class="w-6 h-6" fill="none" stroke="var(--svg-icon-fill)" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                </button>
            </div>
        </div>
        <div id="mobileMenu" class="absolute top-full left-0 right-0 md:hidden shadow-lg" style="background-color: var(--bg-header);">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="index.html" class="block py-2.5 px-3 nav-link text-base font-medium">Strona Główna</a>
                <a href="prezentacja.html" class="block py-2.5 px-3 nav-link text-base font-medium">Prezentacja Serwera</a>
                <a href="wikipedia.html" class="block py-2.5 px-3 nav-link text-base font-medium active">Wikipedia Kronik</a>
                <a href="ranking-stats.html" class="block py-2.5 px-3 nav-link text-base font-medium">Rankingi</a>
                <a href="https://discord.gg/TWOJLINKZAPROSZENIOWY" target="_blank" rel="noopener noreferrer" class="block mt-2 py-2.5 px-3 text-base font-medium text-white bg-purple-600 hover:bg-purple-700 rounded-md text-center">Dołącz do Discorda</a>
            </div>
        </div>
    </header>

    <main>
        <section class="hero-lore-postaci-bg min-h-[60vh] sm:min-h-[70vh] flex items-center justify-center text-center pt-24 sm:pt-20 reveal">
            <div class="container mx-auto px-4 sm:px-6 py-12 sm:py-16">
                <h1 class="text-5xl sm:text-6xl md:text-7xl font-bold text-white mb-6 leading-tight text-shadow-custom">
                    Postacie <span class="animated-gradient-text">Kronik Elary</span>
                </h1>
                <p class="text-xl md:text-2xl text-slate-200 mb-10 max-w-3xl mx-auto text-shadow-custom">
                    Poznaj bliżej kluczowe postacie, które kształtują świat i fabułę naszego serwera.
                </p>
                <a href="wikipedia.html" class="btn-secondary font-semibold py-3 px-8 rounded-lg text-md inline-block">&larr; Powrót do Głównej Strony Wikipedii</a>
            </div>
        </section>

        <section id="profile-arcadius" class="py-12 sm:py-16">
            <div class="container mx-auto px-4 sm:px-6">
                <div class="character-card max-w-4xl mx-auto p-6 sm:p-10 rounded-2xl shadow-xl reveal grid md:grid-cols-3 gap-8 items-center">
                    <div class="md:col-span-1 text-center">
                        <img src="https://placehold.co/200x200/8B5CF6/FFFFFF?text=A" alt="Awatar postaci Arcadius" class="character-avatar mx-auto" loading="lazy" onerror="this.onerror=null;this.src='https://placehold.co/200x200/0F172A/E2E8F0?text=A';">
                    </div>
                    <div class="md:col-span-2">
                        <h2 class="text-3xl sm:text-4xl font-bold character-title mb-2">Arcadius</h2>
                        <p class="text-lg font-medium text-primary mb-4">Tkacz Przeznaczeń Kronik</p>
                        <p class="text-secondary text-md leading-relaxed mb-4">
                            Prastara, enigmatyczna istota, która z echa pierwszych opowieści i szeptów multiwersum utkała ideę Kronik Elary. Arcadius jest obserwatorem, mentorem i dyskretnym przewodnikiem dla Strażników. Rzadko interweniuje bezpośrednio, preferując subtelne wpływanie na bieg wydarzeń i inspirowanie innych do działania. Jego prawdziwa natura i pełnia mocy pozostają tajemnicą, nawet dla najbliższych mu istot.
                        </p>
                        <blockquote class="character-quote border-l-4 pl-4 py-2 text-secondary italic text-sm mb-4">
                            "Każda opowieść, nawet najmniejsza, jest nicią w gobelinie rzeczywistości. Moim zadaniem jest dbać, by splot był harmonijny."
                        </blockquote>
                        <p class="text-secondary text-sm"><strong class="text-primary">Cechy charakterystyczne:</strong> Mądrość, tajemniczość, potężna, lecz subtelna magia, zdolność postrzegania wielu linii czasu i prawdopodobieństw.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="profile-elara" class="py-12 sm:py-16 bg-bg-secondary reveal">
            <div class="container mx-auto px-4 sm:px-6">
                <div class="character-card max-w-4xl mx-auto p-6 sm:p-10 rounded-2xl shadow-xl grid md:grid-cols-3 gap-8 items-center">
                    <div class="md:col-span-1 text-center md:order-2">
                        <img src="https://placehold.co/200x200/A78BFA/FFFFFF?text=E" alt="Awatar postaci Elara" class="character-avatar mx-auto" loading="lazy" onerror="this.onerror=null;this.src='https://placehold.co/200x200/0F172A/E2E8F0?text=E';">
                    </div>
                    <div class="md:col-span-2 md:order-1">
                        <h2 class="text-3xl sm:text-4xl font-bold character-title mb-2">Elara</h2>
                        <p class="text-lg font-medium text-primary mb-4">Elfka Gwiezdnego Pyłu, Strażniczka Kronik</p>
                        <p class="text-secondary text-md leading-relaxed mb-4">
                            Pochodząca z magicznej krainy Aethelgard, Elara jest sercem i duszą Kronik. Pełna entuzjazmu, ciekawości i wrodzonej dobroci, choć czasem nieco niezdarna. To jej pasja do anime, mangi i wszelkich opowieści stała się inspiracją do stworzenia serwera. Elara uwielbia odkrywać nowe historie, dzielić się nimi i tworzyć przyjazną atmosferę dla wszystkich Kronikarzy.
                        </p>
                        <blockquote class="character-quote border-l-4 pl-4 py-2 text-secondary italic text-sm mb-4">
                            "Każda nowa osoba na serwerze to jak odkrycie kolejnej, wspaniałej opowieści! Cieszę się, że tu jesteście!"
                        </blockquote>
                        <p class="text-secondary text-sm"><strong class="text-primary">Cechy charakterystyczne:</strong> Entuzjazm, ciekawość, empatia, lekka niezdarność, miłość do słodyczy (zwłaszcza Gwiezdnych Ciasteczek).</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="profile-kaelen" class="py-12 sm:py-16 reveal">
            <div class="container mx-auto px-4 sm:px-6">
                <div class="character-card max-w-4xl mx-auto p-6 sm:p-10 rounded-2xl shadow-xl grid md:grid-cols-3 gap-8 items-center">
                    <div class="md:col-span-1 text-center">
                        <img src="https://placehold.co/200x200/A8A29E/FFFFFF?text=K" alt="Awatar postaci Kaelen" class="character-avatar mx-auto" loading="lazy" onerror="this.onerror=null;this.src='https://placehold.co/200x200/0F172A/E2E8F0?text=K';">
                    </div>
                    <div class="md:col-span-2">
                        <h2 class="text-3xl sm:text-4xl font-bold character-title mb-2">Kaelen</h2>
                        <p class="text-lg font-medium text-primary mb-4">Archiwista Edyktów, Strażnik Porządku</p>
                        <p class="text-secondary text-md leading-relaxed mb-4">
                            Spokojny, opanowany i niezwykle zorganizowany. Kaelen dba o porządek i przestrzeganie zasad w Kronikach Elary. Jest głównym moderatorem i twórcą wielu systemów ułatwiających zarządzanie serwerem. Choć czasem wydaje się surowy, w głębi duszy troszczy się o dobro społeczności i sprawiedliwość. To on spisuje Edykty Królestwa.
                        </p>
                        <blockquote class="character-quote border-l-4 pl-4 py-2 text-secondary italic text-sm mb-4">
                            "Porządek jest fundamentem każdej trwałej opowieści. Bez niego, nawet najpiękniejsze narracje pogrążą się w chaosie."
                        </blockquote>
                        <p class="text-secondary text-sm"><strong class="text-primary">Cechy charakterystyczne:</strong> Logiczne myślenie, stoicyzm, sprawiedliwość, analityczny umysł, skrupulatność.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="profile-lyra" class="py-12 sm:py-16 bg-bg-secondary reveal">
            <div class="container mx-auto px-4 sm:px-6">
                <div class="character-card max-w-4xl mx-auto p-6 sm:p-10 rounded-2xl shadow-xl grid md:grid-cols-3 gap-8 items-center">
                     <div class="md:col-span-1 text-center md:order-2">
                        <img src="https://placehold.co/200x200/FBBF24/0F172A?text=L" alt="Awatar postaci Lyra" class="character-avatar mx-auto" loading="lazy" onerror="this.onerror=null;this.src='https://placehold.co/200x200/0F172A/E2E8F0?text=L';">
                    </div>
                    <div class="md:col-span-2 md:order-1">
                        <h2 class="text-3xl sm:text-4xl font-bold character-title mb-2">Lyra</h2>
                        <p class="text-lg font-medium text-primary mb-4">Świąteczny Świetlik, Mistrzyni Ceremonii</p>
                        <p class="text-secondary text-md leading-relaxed mb-4">
                            Dusza towarzystwa i niewyczerpane źródło pozytywnej energii. Lyra jest odpowiedzialna za organizację wszelkich wydarzeń, konkursów i zabaw na serwerze. Jej śmiech jest zaraźliwy, a pomysły na integrację społeczności nie mają końca. Potrafi rozświetlić nawet najmroczniejszy zakątek Kronik swoim optymizmem.
                        </p>
                        <blockquote class="character-quote border-l-4 pl-4 py-2 text-secondary italic text-sm mb-4">
                            "Hej, Kronikarze! Gotowi na kolejną dawkę śmiechu i niezapomnianych przygód? Bo ja zawsze!"
                        </blockquote>
                        <p class="text-secondary text-sm"><strong class="text-primary">Cechy charakterystyczne:</strong> Energia, optymizm, kreatywność, towarzyskość, poczucie humoru.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="profile-runa" class="py-12 sm:py-16 reveal">
            <div class="container mx-auto px-4 sm:px-6">
                <div class="character-card max-w-4xl mx-auto p-6 sm:p-10 rounded-2xl shadow-xl grid md:grid-cols-3 gap-8 items-center">
                    <div class="md:col-span-1 text-center">
                        <img src="https://placehold.co/200x200/22D3EE/0F172A?text=R" alt="Awatar postaci Runa" class="character-avatar mx-auto" loading="lazy" onerror="this.onerror=null;this.src='https://placehold.co/200x200/0F172A/E2E8F0?text=R';">
                    </div>
                    <div class="md:col-span-2">
                        <h2 class="text-3xl sm:text-4xl font-bold character-title mb-2">Runa</h2>
                        <p class="text-lg font-medium text-primary mb-4">Techno-Zaklinaczka, Mistrzyni Cyfrowych Splotów</p>
                        <p class="text-secondary text-md leading-relaxed mb-4">
                            Geniusz technologiczny i mistrzyni kodu. Runa jest odpowiedzialna za działanie wszystkich botów na serwerze, w tym Głównego Bota Kronik. Potrafi rozwiązać każdy problem techniczny i nieustannie ulepsza cyfrowe mechanizmy wspierające społeczność. Choć czasem bywa nieco ekscentryczna i pochłonięta swoimi projektami, jej wkład w funkcjonowanie Kronik jest nieoceniony.
                        </p>
                        <blockquote class="character-quote border-l-4 pl-4 py-2 text-secondary italic text-sm mb-4">
                            "Kod jest jak poezja, tylko z większą ilością średników. A ja jestem jego bardem."
                        </blockquote>
                        <p class="text-secondary text-sm"><strong class="text-primary">Cechy charakterystyczne:</strong> Inteligencja, innowacyjność, biegłość technologiczna, lekkie roztargnienie, pasja do gadżetów.</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="py-12 text-center" style="background-color: var(--bg-header);">
        <div class="container mx-auto px-4 sm:px-6">
            <div class="flex justify-center space-x-6 mb-6">
                <a href="#" class="text-secondary hover:text-accent transition-colors duration-200" aria-label="Placeholder Twitter">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M22.46 6c-.77.35-1.6.58-2.46.67.9-.53 1.59-1.37 1.92-2.38-.84.5-1.78.86-2.79 1.07C18.28 4.42 17.03 4 15.64 4c-2.94 0-5.32 2.38-5.32 5.32 0 .42.05.83.14 1.22-4.42-.22-8.33-2.34-10.96-5.55-.46.79-.72 1.7-.72 2.67 0 1.84.94 3.47 2.37 4.42-.87-.03-1.69-.27-2.41-.66v.07c0 2.57 1.83 4.72 4.25 5.21-.44.12-.91.18-1.39.18-.34 0-.67-.03-1-.1 0 .67.65 1.37 1.77 1.84-.7.55-1.59.88-2.58.88-.39 0-.77-.02-1.14-.07.91.59 2 1.02 3.19 1.02 3.83 0 5.93-3.18 5.93-5.93 0-.09 0-.18-.01-.27.41-.3.76-.68 1.04-1.09z"/></svg>
                </a>
                 <a href="#" class="text-secondary hover:text-accent transition-colors duration-200" aria-label="Placeholder Instagram">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 1.17.053 1.805.248 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.167.422.362 1.056.415 2.227.058 1.266.07 1.646.07 4.85s-.012 3.584-.07 4.85c-.053 1.17-.248 1.805-.415 2.227a3.48 3.48 0 01-.896 1.382c-.42.419-.82.679-1.382.896-.422.167-1.056.362-2.227.415-1.266.058-1.646.07-4.85.07s-3.584-.012-4.85-.07c-1.17-.053-1.805-.248-2.227-.415a3.492 3.492 0 01-1.381-.896 3.492 3.492 0 01-.896-1.381c-.167-.422-.362-1.056-.415-2.227-.058-1.266-.07-1.646-.07-4.85s.012-3.584.07-4.85c.053-1.17.248-1.805.415-2.227.218-.562.477-.96.896-1.381.419-.42.819-.679 1.381-.896.422-.167 1.056-.362 2.227-.415C8.416 2.175 8.796 2.163 12 2.163zm0 1.802c-3.143 0-3.505.012-4.725.068-1.09.05-1.647.235-1.98.378a1.69 1.69 0 00-.755.755c-.143.333-.328.89-.378 1.98C4.082 8.495 4.07 8.857 4.07 12s.012 3.505.068 4.725c.05 1.09.235 1.647.378 1.98.16.373.397.637.755.755.333.143.89.328 1.98.378 1.22.056 1.582.068 4.725.068s3.505-.012 4.725-.068c1.09-.05 1.647.235 1.98-.378.373-.16.637-.397.755-.755.143-.333.328.89.378-1.98.056-1.22.068-1.582.068-4.725s-.012-3.505-.068-4.725c-.05-1.09-.235-1.647-.378-1.98a1.69 1.69 0 00-.755-.755c-.333-.143-.89-.328-1.98-.378C15.505 3.977 15.143 3.965 12 3.965zm0 3.273a4.762 4.762 0 100 9.524 4.762 4.762 0 000-9.524zm0 7.722a3.06 3.06 0 110-6.12 3.06 3.06 0 010 6.12zm4.758-7.868a1.128 1.128 0 100-2.255 1.128 1.128 0 000 2.255z"/></svg>
                </a>
                 <a href="polityka-prywatnosci.html" class="text-secondary hover:text-accent transition-colors duration-200" aria-label="Polityka Prywatności">
                    Polityka Prywatności
                </a>
            </div>
            <p class="text-secondary text-sm">
                &copy; <span id="currentYear"></span> Kroniki Elary. Wszelkie prawa zastrzeżone.
            </p>
            <p class="text-xs mt-2.5" style="color: var(--text-secondary-light, #94A3B8);">
                Stworzone z pasji do anime i mangi przez Arcadiusa i jego Strażników.
            </p>
        </div>
    </footer>

    <script>
        // Funkcja do obsługi aktywnego linku w nawigacji
        function setActiveNavLink() {
            const currentPage = window.location.pathname.split("/").pop() || "index.html";
            const navLinks = document.querySelectorAll('header nav > a.nav-link, #mobileMenu > div > a.nav-link');
            const wikipediaSubPages = ["lore-postaci.html", "systemy-botow.html", "rangi-i-role.html", "lore-aethelgard.html", "komendy.html"];

            navLinks.forEach(link => {
                link.classList.remove('active');
                const linkPage = link.getAttribute('href').split("/").pop() || "index.html";
                
                if (linkPage === currentPage) {
                    link.classList.add('active');
                } else if (linkPage === 'wikipedia.html' && wikipediaSubPages.includes(currentPage)) {
                    link.classList.add('active');
                }
            });
        }

        // Funkcja do obsługi wyświetlania informacji o użytkowniku/logowania
        async function updateAuthDisplay() {
            const authSectionNav = document.getElementById('auth-section-nav');
            const authSectionMobileNav = document.getElementById('auth-section-mobile-nav');
            const ADMIN_DISCORD_ID = "1238814802357387285"; // Upewnij się, że to jest ID admina

            function createLoginButton(isMobile = false) {
                const loginButton = document.createElement('a');
                loginButton.href = '/auth/discord/login'; // Upewnij się, że ten endpoint jest poprawny
                loginButton.id = isMobile ? 'discordLoginButtonMobileNav' : 'discordLoginButtonNav';
                loginButton.className = 'btn-discord !text-white px-4 py-2.5 rounded-md text-sm flex items-center' + (isMobile ? ' w-full justify-center mt-2' : '');
                loginButton.innerHTML = `
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.297 0H3.703C1.658 0 0 1.658 0 3.703V20.297C0 22.342 1.658 24 3.703 24H20.297C22.342 24 24 22.342 24 20.297V3.703C24 1.658 22.342 0 20.297 0ZM8.107 15.232C7.089 15.232 6.241 14.384 6.241 13.366C6.241 12.348 7.089 11.5 8.107 11.5C9.125 11.5 9.973 12.348 9.973 13.366C9.973 14.384 9.125 15.232 8.107 15.232ZM12.000 11.071C10.982 11.071 10.134 10.223 10.134 9.205C10.134 8.188 10.982 7.339 12.000 7.339C13.018 7.339 13.866 8.188 13.866 9.205C13.866 10.223 13.018 11.071 12.000 11.071ZM15.893 15.232C14.875 15.232 14.027 14.384 14.027 13.366C14.027 12.348 14.875 11.5 15.893 11.5C16.911 11.5 17.759 12.348 17.759 13.366C17.759 14.384 16.911 15.232 15.893 15.232Z"/></svg>
                    Zaloguj przez Discord
                `;
                return loginButton;
            }

            function createAvatarDropdown(user, isMobile = false) {
                const containerId = isMobile ? 'userDropdownContainerMobile' : 'userDropdownContainerNav';
                const dropdownId = isMobile ? 'userDropdownMobile' : 'userDropdownNav';

                const container = document.createElement('div');
                container.id = containerId;
                container.className = 'relative';

                const avatarImg = document.createElement('img');
                avatarImg.src = user.avatar ? `https://cdn.discordapp.com/avatars/${user.id}/${user.avatar}.png?size=32` : 'https://placehold.co/32x32/A78BFA/FFFFFF?text=U';
                avatarImg.alt = 'Awatar użytkownika';
                avatarImg.className = 'user-avatar';
                avatarImg.onclick = (event) => {
                    event.stopPropagation(); 
                    const dropdown = document.getElementById(dropdownId);
                    if (dropdown) dropdown.classList.toggle('open');
                };
                container.appendChild(avatarImg);

                const dropdownMenu = document.createElement('div');
                dropdownMenu.id = dropdownId;
                dropdownMenu.className = 'dropdown-menu';
                
                const profileLink = document.createElement('a');
                profileLink.href = 'profil.html';
                profileLink.textContent = 'Mój Profil';
                dropdownMenu.appendChild(profileLink);

                const supportTicketsLink = document.createElement('a');
                supportTicketsLink.href = 'support.html'; 
                supportTicketsLink.textContent = 'Centrum Wsparcia';
                dropdownMenu.appendChild(supportTicketsLink);

                if (user.id === ADMIN_DISCORD_ID) {
                    const adminLinkElement = document.createElement('a'); 
                    adminLinkElement.href = '/admin.html'; 
                    adminLinkElement.textContent = 'Panel Admina';
                    dropdownMenu.appendChild(adminLinkElement);
                }
                
                const logoutForm = document.createElement('form');
                logoutForm.action = '/auth/logout'; // Upewnij się, że ten endpoint jest poprawny
                logoutForm.method = 'POST';
                const logoutButton = document.createElement('button');
                logoutButton.type = 'submit';
                logoutButton.textContent = 'Wyloguj';
                logoutForm.appendChild(logoutButton);
                dropdownMenu.appendChild(logoutForm);

                container.appendChild(dropdownMenu);
                return container;
            }

            try {
                const response = await fetch('/api/me'); // Upewnij się, że ten endpoint jest poprawny
                if (response.ok) {
                    const user = await response.json();
                    if (authSectionNav) {
                        authSectionNav.innerHTML = ''; 
                        authSectionNav.appendChild(createAvatarDropdown(user, false));
                    }
                    if (authSectionMobileNav) {
                        authSectionMobileNav.innerHTML = ''; 
                        authSectionMobileNav.appendChild(createAvatarDropdown(user, true));
                    }
                } else {
                     if (authSectionNav) {
                        authSectionNav.innerHTML = '';
                        authSectionNav.appendChild(createLoginButton(false));
                    }
                    if (authSectionMobileNav) {
                        authSectionMobileNav.innerHTML = '';
                        authSectionMobileNav.appendChild(createLoginButton(true));
                    }
                }
            } catch (error) {
                console.error('Błąd aktualizacji UI logowania:', error);
                 if (authSectionNav) {
                    authSectionNav.innerHTML = '';
                    authSectionNav.appendChild(createLoginButton(false));
                }
                if (authSectionMobileNav) {
                    authSectionMobileNav.innerHTML = '';
                    authSectionMobileNav.appendChild(createLoginButton(true));
                }
            }
        }
        
        function setupMobileMenu() {
            const mobileMenuButton = document.getElementById('mobileMenuButton');
            const mobileMenu = document.getElementById('mobileMenu');
            
            if (mobileMenuButton && mobileMenu) {
                mobileMenuButton.addEventListener('click', () => {
                    const isExpanded = mobileMenuButton.getAttribute('aria-expanded') === 'true' || false;
                    mobileMenuButton.setAttribute('aria-expanded', !isExpanded);
                    mobileMenu.classList.toggle('open');
                });
                mobileMenu.querySelectorAll('a.nav-link').forEach(link => { 
                    link.addEventListener('click', () => {
                        mobileMenuButton.setAttribute('aria-expanded', 'false');
                        mobileMenu.classList.remove('open');
                    });
                });
            }
        }

        function setupRevealAnimations() {
            const revealObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.05 }); 

            document.querySelectorAll('.reveal').forEach(el => {
                revealObserver.observe(el);
            });
        }

        function setupDropdownDismiss() {
            window.addEventListener('click', function(e) {
                const desktopDropdownContainer = document.getElementById('userDropdownContainerNav');
                const mobileDropdownContainer = document.getElementById('userDropdownContainerMobile');
                const desktopDropdown = document.getElementById('userDropdownNav');
                const mobileDropdown = document.getElementById('userDropdownMobile');

                if (desktopDropdownContainer && !desktopDropdownContainer.contains(e.target) && desktopDropdown) {
                    desktopDropdown.classList.remove('open');
                }
                if (mobileDropdownContainer && !mobileDropdownContainer.contains(e.target) && mobileDropdown) {
                     mobileDropdown.classList.remove('open');
                }
            });
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('currentYear').textContent = new Date().getFullYear();
            
            if (!document.documentElement.classList.contains('light') && !document.documentElement.classList.contains('dark')) {
                 document.documentElement.classList.add('dark');
            }

            setActiveNavLink();
            updateAuthDisplay();
            setupMobileMenu();
            setupRevealAnimations();
            setupDropdownDismiss();
        });
    </script>
</body>
</html>